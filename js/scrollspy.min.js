/*
 https://raw.github.com/jashkenas/underscore/master/LICENSE
 @type {function}
 @return {number}
 https://raw.github.com/jashkenas/underscore/master/LICENSE
 @param {function} func
 @param {number} wait
 @param {Object=} options
 @returns {Function}
 https://raw.github.com/thesmart/jquery-scrollspy/master/LICENSE
 @see https://github.com/thesmart
 @version 0.1.2
*/
(function(a){function w(b,e,f,g){var h=a();a.each(s,function(a,d){var c=d.offset().top,n=d.offset().left,m=n+d.width(),p=c+d.height();n>e||m<g||c>f||p<b||h.push(d)});return h}function k(){++q;var b=c.scrollTop(),e=c.scrollLeft(),f=e+c.width(),g=b+c.height(),b=w(b,f,g,e);a.each(b,function(b,a){"number"!=typeof a.data("scrollSpy:ticks")&&a.triggerHandler("scrollSpy:enter");a.data("scrollSpy:ticks",q)});a.each(t,function(b,a){var d=a.data("scrollSpy:ticks");"number"==typeof d&&d!==q&&(a.triggerHandler("scrollSpy:exit"),
a.data("scrollSpy:ticks",null))});t=b}function x(){c.trigger("scrollSpy:winSize")}function r(a,c,f){var g,h,k,d=null,l=0;f||(f={});var n=function(){l=!1===f.leading?0:u();d=null;k=a.apply(g,h);g=h=null};return function(){var m=u();l||!1!==f.leading||(l=m);var p=c-(m-l);g=this;h=arguments;0>=p?(clearTimeout(d),d=null,l=m,k=a.apply(g,h),g=h=null):d||!1===f.trailing||(d=setTimeout(n,p));return k}}var c=a(window),s=[],t=[],v=!1,q=0,u=Date.now||function(){return(new Date).getTime()};a.scrollSpy=function(b,
e){b=a(b);b.each(function(b,c){s.push(a(c))});e=e||{throttle:100};v||(c.on("scroll",r(k,e.throttle||100)),c.on("resize",r(k,e.throttle||100)),v=!0,setTimeout(function(){a(document).ready(k)},0));return b};a.winSizeSpy=function(b){a.winSizeSpy=function(){return c};b=b||{throttle:100};return c.on("resize",r(x,b.throttle||100))};a.fn.scrollSpy=function(b){return a.scrollSpy(a(this),b)}})(jQuery);